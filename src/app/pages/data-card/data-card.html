<p-toolbar styleClass="mb-6">
    <ng-template #start>
        <p-button [label]="'utils.back'| transloco"
                  icon="pi pi-arrow-left"
                  severity="secondary"
                  class="mr-2"
                  (click)="goBack()" />
    </ng-template>
    <ng-template #end>
        <div class="flex flex-col">
            <span class="text-gray-600">{{ 'sales.totalAmount'| transloco }}</span>
            <span>{{ totalAmount() | number:'1.2-2' }}</span>
        </div>
    </ng-template>
</p-toolbar>
<!--
<div class="card p-4 flex flex-col gap-6">
    <div class="font-semibold text-xl">
        {{ 'warehouse.title' | transloco }}
    </div>

    <div class="w-full">
        @if (categories.length > 0) {
            <div class="flex flex-col sm:flex-row gap-4 w-full">

                &lt;!&ndash; CHART &ndash;&gt;
                <div class="w-full! sm:w-1/2  h-80">
                    <p-chart
                        class="w-full h-full"
                        type="doughnut"
                        [data]="pieData"
                        [options]="pieOptions">
                    </p-chart>
                </div>

                <div class="w-full  max-h-80 overflow-auto mt-4 none">
                    <div *ngFor="let c of categories" class="flex justify-between py-1">
                        <span>{{ c }}</span>
                    </div>
                </div>

            </div>
        } @else {
            <div class="text-center text-gray-500 py-10">
                {{ 'utils.noData' | transloco }}
            </div>
        }
    </div>


    <div class="flex flex-col sm:flex-row gap-4 mt-4">
        <div class="flex flex-col w-full sm:w-48">
            <label class="mb-1">{{ 'utils.dateEnd' | transloco }}</label>
            <p-datepicker
                [showIcon]="true"
                [showButtonBar]="true"
                [(ngModel)]="payload.dateEnd"
                (onSelect)="applyFilter()"
                [placeholder]="'utils.dateEndPlaceholder' | transloco">
            </p-datepicker>
        </div>

        <div class="flex flex-col w-full sm:w-48">
            <label class="mb-1">{{ 'sales.warehouse' | transloco }}</label>
            <p-multiSelect
                [options]="warehouses"
                placeholder="{{ 'utils.selectWarehouse' | transloco }}"
                [(ngModel)]="selectedWarehouses"
                (onChange)="onWarehouseChange()"
                display="chip"
                [emptyMessage]=" 'utils.noResultsFound' | transloco "
                [emptyFilterMessage]=" 'utils.noResultsFound' | transloco ">
            </p-multiSelect>
        </div>
    </div>
</div>
-->
<div class="card p-4 flex flex-col gap-6">
    <div class="font-semibold text-xl">
        {{ 'warehouse.title' | transloco }}
    </div>

    <div class="w-full">
        @if (categories.length > 0) {
            <div class="flex flex-col sm:flex-row gap-4 w-full">

                <!-- CHART -->
                <div class="w-full! sm:w-1/2 h-80">
                    <p-chart
                        class="w-full h-full"
                        type="doughnut"
                        [data]="pieData"
                        [options]="pieOptions">
                    </p-chart>
                </div>

                <!-- LIST: ТОЛЬКО МОБИЛКА -->
                <div class="w-full sm:hidden max-h-80 overflow-auto mt-4">
                    <div *ngFor="let c of categories" class="flex justify-between py-1">
                        <span>{{ c }}</span>
                    </div>
                </div>

            </div>
        } @else {
            <div class="text-center text-gray-500 py-10">
                {{ 'utils.noData' | transloco }}
            </div>
        }
    </div>

    <!-- FILTERS -->
    <div class="flex flex-col sm:flex-row gap-4 mt-4">
        <div class="flex flex-col w-full sm:w-48">
            <label class="mb-1">{{ 'utils.dateEnd' | transloco }}</label>
            <p-datepicker
                [showIcon]="true"
                [showButtonBar]="true"
                [(ngModel)]="payload.dateEnd"
                (onSelect)="applyFilter()">
            </p-datepicker>
        </div>

        <div class="flex flex-col w-full sm:w-48">
            <label class="mb-1">{{ 'sales.warehouse' | transloco }}</label>
            <p-multiSelect
                [options]="warehouses"
                placeholder="{{ 'utils.selectWarehouse' | transloco }}"
                [(ngModel)]="selectedWarehouses"
                (onChange)="onWarehouseChange()"
                display="chip"
                [emptyMessage]=" 'utils.noResultsFound' | transloco "
                [emptyFilterMessage]=" 'utils.noResultsFound' | transloco "/>
        </div>
    </div>
</div>
